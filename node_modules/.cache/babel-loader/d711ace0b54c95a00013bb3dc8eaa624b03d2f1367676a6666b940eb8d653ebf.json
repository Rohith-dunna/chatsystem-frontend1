{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function Chat(_ref){let{username,currentRoom,messages,joinRoom,sendMessage,logout}=_ref;const[input,setInput]=useState('');const handleSendMessage=e=>{e.preventDefault();if(input.trim()){sendMessage(input);setInput('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6 h-screen flex flex-col bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold\",children:[\"Community Chat - \",username]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 flex gap-2\",children:['course1','course2','course3'].map(roomId=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>joinRoom(roomId),className:\"px-4 py-2 rounded-lg \".concat(currentRoom===roomId?'bg-blue-500 text-white':'bg-gray-200 hover:bg-gray-300'),children:roomId.charAt(0).toUpperCase()+roomId.slice(1)},roomId))}),currentRoom?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto bg-white rounded-lg shadow p-4 mb-4\",children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 \".concat(msg.sender===username?'text-right':'text-left'),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[msg.sender,\": \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block p-2 rounded-lg \".concat(msg.sender===username?'bg-blue-500 text-white':'bg-gray-200'),children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:new Date(msg.timestamp).toLocaleTimeString()})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type your message...\",className:\"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,className:\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\",children:\"Send\"})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"Select a chat room to start chatting.\"})]});}export default Chat;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Chat","_ref","username","currentRoom","messages","joinRoom","sendMessage","logout","input","setInput","handleSendMessage","e","preventDefault","trim","className","children","onClick","map","roomId","concat","charAt","toUpperCase","slice","msg","index","sender","text","Date","timestamp","toLocaleTimeString","type","value","onChange","target","placeholder"],"sources":["D:/chatsystem/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction Chat({ username, currentRoom, messages, joinRoom, sendMessage, logout }) {\r\n  const [input, setInput] = useState('');\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (input.trim()) {\r\n      sendMessage(input);\r\n      setInput('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 h-screen flex flex-col bg-gray-100\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h1 className=\"text-2xl font-bold\">Community Chat - {username}</h1>\r\n        <button\r\n          onClick={logout}\r\n          className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n      <div className=\"mb-4 flex gap-2\">\r\n        {['course1', 'course2', 'course3'].map(roomId => (\r\n          <button\r\n            key={roomId}\r\n            onClick={() => joinRoom(roomId)}\r\n            className={`px-4 py-2 rounded-lg ${currentRoom === roomId ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-300'}`}\r\n          >\r\n            {roomId.charAt(0).toUpperCase() + roomId.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {currentRoom ? (\r\n        <>\r\n          <div className=\"flex-1 overflow-y-auto bg-white rounded-lg shadow p-4 mb-4\">\r\n            {messages.map((msg, index) => (\r\n              <div key={index} className={`mb-2 ${msg.sender === username ? 'text-right' : 'text-left'}`}>\r\n                <span className=\"text-sm text-gray-500\">{msg.sender}: </span>\r\n                <span className={`inline-block p-2 rounded-lg ${msg.sender === username ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}>\r\n                  {msg.text}\r\n                </span>\r\n                <div className=\"text-xs text-gray-400\">{new Date(msg.timestamp).toLocaleTimeString()}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Type your message...\"\r\n              className=\"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <button\r\n              onClick={handleSendMessage}\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n            >\r\n              Send\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p className=\"text-center text-gray-600\">Select a chat room to start chatting.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}